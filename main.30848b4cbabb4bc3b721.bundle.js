/*! For license information please see main.30848b4cbabb4bc3b721.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return blackboardConnect}));__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(17),__webpack_require__(15),__webpack_require__(149),__webpack_require__(36),__webpack_require__(130),__webpack_require__(121),__webpack_require__(150),__webpack_require__(5),__webpack_require__(151),__webpack_require__(182),__webpack_require__(23),__webpack_require__(19),__webpack_require__(24);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var blackboardConnect=function blackboardConnect(blackboardId,baseElement){return function(_baseElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(_class,_baseElement);var _super=_createSuper(_class);function _class(){return _classCallCheck(this,_class),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(_class,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;_get(_getPrototypeOf(_class.prototype),"connectedCallback",this).call(this);var e=new CustomEvent("connect-to-blackboard",{bubbles:!0,composed:!0,detail:{blackboardId:blackboardId}});if(this.dispatchEvent(e),this.blackboard=e.blackboard,!this.blackboard)throw new Error("Could not connect to the blackboard: this element must be contained inside a blackboard-container element with the same blackboardId");this.blackboard.subscribe((function(state){_this.requestUpdate&&_this.requestUpdate(),_this.stateUpdated(state)}))}},{key:"stateUpdated",value:function stateUpdated(state){}}]),_class}(baseElement)}},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return sharedStyles}));__webpack_require__(14),__webpack_require__(61),__webpack_require__(68);var lit_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);function _templateObject(){var data=function _taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  .row {\n    display: flex;\n    flex-direction: row;\n  }\n  .column {\n    display: flex;\n    flex-direction: column;\n  }\n  .fill {\n    flex: 1;\n  }\n\n  .center-content {\n    align-items: center;\n    justify-content: center;\n  }\n\n  h3 {\n    margin-block-start: 0;\n  }\n\n  .title {\n    font-size: 20px;\n  }\n\n  .placeholder {\n    color: grey;\n  }\n\n  .flex-scrollable-parent {\n    position: relative;\n    display: flex;\n    flex: 1;\n  }\n\n  .flex-scrollable-container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  .flex-scrollable-y {\n    max-height: 100%;\n    overflow-y: auto;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var sharedStyles=Object(lit_element__WEBPACK_IMPORTED_MODULE_3__.c)(_templateObject())},25:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DHTOpType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return entryToDHTOps})),__webpack_require__.d(__webpack_exports__,"c",(function(){return hashDHTOp})),__webpack_require__.d(__webpack_exports__,"d",(function(){return neighborhood})),__webpack_require__.d(__webpack_exports__,"e",(function(){return sortDHTOps}));__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(32),__webpack_require__(187),__webpack_require__(39),__webpack_require__(27),__webpack_require__(17),__webpack_require__(14),__webpack_require__(128),__webpack_require__(15),__webpack_require__(29),__webpack_require__(5),__webpack_require__(47),__webpack_require__(23),__webpack_require__(19),__webpack_require__(24),__webpack_require__(56),__webpack_require__(41),__webpack_require__(7),__webpack_require__(48),__webpack_require__(49);var DHTOpType,_processors_hash_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(6),_entry_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(8);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}!function(DHTOpType){DHTOpType.StoreHeader="StoreHeader",DHTOpType.StoreEntry="StoreEntry",DHTOpType.RegisterAgentActivity="RegisterAgentActivity",DHTOpType.RegisterUpdatedTo="RegisterUpdatedTo",DHTOpType.RegisterDeletedBy="RegisterDeletedBy",DHTOpType.RegisterAddLink="RegisterAddLink",DHTOpType.RegisterRemoveLink="RegisterRemoveLink"}(DHTOpType||(DHTOpType={}));var DHT_SORT_PRIORITY=[DHTOpType.RegisterAgentActivity,DHTOpType.StoreEntry,DHTOpType.StoreHeader,DHTOpType.RegisterUpdatedTo,DHTOpType.RegisterDeletedBy,DHTOpType.RegisterAddLink,DHTOpType.RegisterRemoveLink];function entryToDHTOps(_x,_x2){return _entryToDHTOps.apply(this,arguments)}function _entryToDHTOps(){return(_entryToDHTOps=_asyncToGenerator(regeneratorRuntime.mark((function _callee(entry,header){var additionalDHTOps,headerId;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return additionalDHTOps=[],_context.next=3,Object(_processors_hash_js__WEBPACK_IMPORTED_MODULE_22__.c)(header);case 3:headerId=_context.sent,_context.t0=entry.type,_context.next=_context.t0===_entry_js__WEBPACK_IMPORTED_MODULE_23__.a.CreateEntry?7:_context.t0===_entry_js__WEBPACK_IMPORTED_MODULE_23__.a.RemoveEntry?9:_context.t0===_entry_js__WEBPACK_IMPORTED_MODULE_23__.a.LinkAdd?11:_context.t0===_entry_js__WEBPACK_IMPORTED_MODULE_23__.a.LinkRemove?13:15;break;case 7:return header.replaced_entry_address&&(additionalDHTOps=[{headerId:headerId,header:header,type:DHTOpType.RegisterUpdatedTo,entry:{newEntry:entry}}]),_context.abrupt("break",15);case 9:return additionalDHTOps=[{headerId:headerId,header:header,type:DHTOpType.RegisterDeletedBy,entry:entry}],_context.abrupt("break",15);case 11:return additionalDHTOps=[{headerId:headerId,header:header,type:DHTOpType.RegisterAddLink,entry:entry}],_context.abrupt("break",15);case 13:return additionalDHTOps=[{headerId:headerId,header:header,type:DHTOpType.RegisterRemoveLink,entry:entry}],_context.abrupt("break",15);case 15:return _context.abrupt("return",[].concat(_toConsumableArray(additionalDHTOps),[{headerId:headerId,header:header,type:DHTOpType.RegisterAgentActivity,entry:null},{header:header,headerId:headerId,type:DHTOpType.StoreEntry,entry:entry},{headerId:headerId,header:header,type:DHTOpType.StoreHeader,entry:null}]));case 16:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function neighborhood(_x3){return _neighborhood.apply(this,arguments)}function _neighborhood(){return(_neighborhood=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(dhtOp){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=dhtOp.type,_context2.next=_context2.t0===DHTOpType.StoreHeader?3:_context2.t0===DHTOpType.StoreEntry?4:_context2.t0===DHTOpType.RegisterUpdatedTo?5:_context2.t0===DHTOpType.RegisterAgentActivity?6:_context2.t0===DHTOpType.RegisterAddLink?7:_context2.t0===DHTOpType.RegisterRemoveLink?8:_context2.t0===DHTOpType.RegisterDeletedBy?9:10;break;case 3:return _context2.abrupt("return",Object(_processors_hash_js__WEBPACK_IMPORTED_MODULE_22__.c)(dhtOp.header));case 4:return _context2.abrupt("return",dhtOp.header.entry_address);case 5:return _context2.abrupt("return",dhtOp.header.replaced_entry_address);case 6:return _context2.abrupt("return",dhtOp.header.agent_id);case 7:case 8:return _context2.abrupt("return",dhtOp.entry.payload.base);case 9:return _context2.abrupt("return",dhtOp.entry.payload.deletedEntry);case 10:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function hashDHTOp(_x4){return _hashDHTOp.apply(this,arguments)}function _hashDHTOp(){return(_hashDHTOp=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(dhtOp){var hashable;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.t0=dhtOp.type,_context3.next=_context3.t0===DHTOpType.RegisterUpdatedTo?3:_context3.t0===DHTOpType.RegisterDeletedBy?4:5;break;case 3:return _context3.abrupt("return",Object(_processors_hash_js__WEBPACK_IMPORTED_MODULE_22__.c)({entry:dhtOp.entry,replaces:dhtOp.header.replaced_entry_address}));case 4:return _context3.abrupt("return",Object(_processors_hash_js__WEBPACK_IMPORTED_MODULE_22__.c)(dhtOp.entry));case 5:return hashable={type:dhtOp.type,header:dhtOp.header},_context3.abrupt("return",Object(_processors_hash_js__WEBPACK_IMPORTED_MODULE_22__.c)(hashable));case 7:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function sortDHTOps(dhtOps){var prio=function prio(dhtOp){return DHT_SORT_PRIORITY.findIndex((function(type){return type===dhtOp.type}))};return dhtOps.sort((function(dhtA,dhtB){return prio(dhtA)-prio(dhtB)}))}},35:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"b",(function(){return __metadata}));__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(17),__webpack_require__(36),__webpack_require__(130),__webpack_require__(5),__webpack_require__(19),__webpack_require__(24);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __metadata(metadataKey,metadataValue){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}},401:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(17),__webpack_require__(14),__webpack_require__(15),__webpack_require__(370),__webpack_require__(149),__webpack_require__(61),__webpack_require__(36),__webpack_require__(68),__webpack_require__(130),__webpack_require__(121),__webpack_require__(150),__webpack_require__(5),__webpack_require__(47),__webpack_require__(151),__webpack_require__(182),__webpack_require__(23),__webpack_require__(19),__webpack_require__(24),__webpack_require__(56);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(257);var isEqual=__webpack_require__(858),Subject=__webpack_require__(860),mergeMap=__webpack_require__(859);function blackboard_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var NetworkMessageType,blackboard_Blackboard=function(){function Blackboard(initialState,persistOptions){!function blackboard_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Blackboard),this.initialState=initialState,this.persistOptions=persistOptions,this._state=initialState,this.subject=new Subject.a,this.hidrateState(),this.stateUpdated()}return function blackboard_createClass(Constructor,protoProps,staticProps){return protoProps&&blackboard_defineProperties(Constructor.prototype,protoProps),staticProps&&blackboard_defineProperties(Constructor,staticProps),Constructor}(Blackboard,[{key:"subscribe",value:function subscribe(next,error,complete){return this.subject.subscribe(next,error,complete)}},{key:"select",value:function select(selector){var lastValue=void 0;return this.subject.pipe(Object(mergeMap.a)((function(state){var value;return value="string"==typeof selector?state[selector]:selector(state),Object(isEqual.a)(lastValue,value)?[]:[lastValue=value]})))}},{key:"update",value:function update(key,value){this._state[key]=value,this.stateUpdated()}},{key:"updateState",value:function updateState(state){Object(isEqual.a)(state,this._state)||(this._state=state,this.stateUpdated())}},{key:"reset",value:function reset(){this._state=this.initialState,this.stateUpdated()}},{key:"stateUpdated",value:function stateUpdated(){this.persistState(),this.subject.next(this._state)}},{key:"persistState",value:function persistState(){if(void 0!==this.persistOptions){var stateString=this.persistOptions.serializer?this.persistOptions.serializer(this._state):JSON.stringify(this._state);localStorage.setItem(this.persistOptions.persistId,stateString)}}},{key:"hidrateState",value:function hidrateState(){var _this=this;if(void 0!==this.persistOptions){var stateString=localStorage.getItem(this.persistOptions.persistId);stateString&&(this._state=this.persistOptions.deserializer?this.persistOptions.deserializer(stateString):JSON.parse(stateString),setTimeout((function(){return _this.subject.next(_this._state)})))}}},{key:"state",get:function get(){return this._state}}]),Blackboard}(),tslib_es6_654e2c24=__webpack_require__(35),lit_element=__webpack_require__(0),processors_hash=(__webpack_require__(41),__webpack_require__(7),__webpack_require__(48),__webpack_require__(49),__webpack_require__(6)),types_entry=__webpack_require__(8),dht_op=__webpack_require__(25),lib=__webpack_require__(193);!function(NetworkMessageType){NetworkMessageType[NetworkMessageType.Publish=0]="Publish",NetworkMessageType[NetworkMessageType.GetEntry=1]="GetEntry"}(NetworkMessageType||(NetworkMessageType={}));__webpack_require__(32),__webpack_require__(187),__webpack_require__(39),__webpack_require__(27),__webpack_require__(147),__webpack_require__(128),__webpack_require__(258),__webpack_require__(400),__webpack_require__(29),__webpack_require__(60),__webpack_require__(46),__webpack_require__(104);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function cell_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var cell_Cell=function(){function Cell(conductor,dna,agentId,redundancyFactor,peers){!function cell_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Cell),this.conductor=conductor,this.dna=dna,this.agentId=agentId,this.redundancyFactor=redundancyFactor,this.peers=peers,this.sourceChain=[],this.CAS={},this.CASMeta={},this.DHTOpTransforms={}}var _createHeader,_fastPush,_publishEntry,_createEntry,_init;return function cell_createClass(Constructor,protoProps,staticProps){return protoProps&&cell_defineProperties(Constructor.prototype,protoProps),staticProps&&cell_defineProperties(Constructor,staticProps),Constructor}(Cell,[{key:"toContents",value:function toContents(){return{CAS:this.CAS,CASMeta:this.CASMeta,DHTOpTransforms:this.DHTOpTransforms,agentId:this.agentId,dna:this.dna,peers:this.peers,redundancyFactor:this.redundancyFactor,sourceChain:this.sourceChain}}},{key:"init",value:(_init=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.createEntry({type:types_entry.a.DNA,payload:this.dna},void 0);case 2:return _context.next=4,this.createEntry({type:types_entry.a.AgentId,payload:this.agentId},void 0);case 4:case"end":return _context.stop()}}),_callee,this)}))),function init(){return _init.apply(this,arguments)})},{key:"createEntry",value:(_createEntry=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(entry,replaces){var entryId,header;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(types_entry.b)(entry);case 2:return entryId=_context2.sent,this.CAS[entryId]=entry,_context2.next=6,this.createHeader(entryId,replaces);case 6:header=_context2.sent,this.publishEntry(entry,header);case 8:case"end":return _context2.stop()}}),_callee2,this)}))),function createEntry(_x,_x2){return _createEntry.apply(this,arguments)})},{key:"publishEntry",value:(_publishEntry=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(entry,header){var dhtOps;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Object(dht_op.b)(entry,header);case 2:dhtOps=_context3.sent,this.fastPush(dhtOps);case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function publishEntry(_x3,_x4){return _publishEntry.apply(this,arguments)})},{key:"republish",value:function republish(){var _step,_iterator=_createForOfIteratorHelper(this.sourceChain);try{for(_iterator.s();!(_step=_iterator.n()).done;){var headerId=_step.value,header=this.CAS[headerId],entry=this.CAS[header.entry_address];this.publishEntry(entry,header)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"fastPush",value:(_fastPush=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(dhtOps){var _iterator2,_step2,dhtOp,hood,dhtOpId,message,peers,_iterator3,_step3,peer;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:_iterator2=_createForOfIteratorHelper(dhtOps),_context4.prev=1,_iterator2.s();case 3:if((_step2=_iterator2.n()).done){_context4.next=17;break}return dhtOp=_step2.value,_context4.next=7,Object(dht_op.d)(dhtOp);case 7:return hood=_context4.sent,_context4.next=10,Object(dht_op.c)(dhtOp);case 10:dhtOpId=_context4.sent,message={type:NetworkMessageType.Publish,payload:{dhtOp:dhtOp,dhtOpId:dhtOpId}},peers=this.getNPeersClosestTo(this.redundancyFactor,hood),_iterator3=_createForOfIteratorHelper(peers);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)peer=_step3.value,this.conductor.sendMessage(this.dna,this.agentId,peer,message)}catch(err){_iterator3.e(err)}finally{_iterator3.f()}case 15:_context4.next=3;break;case 17:_context4.next=22;break;case 19:_context4.prev=19,_context4.t0=_context4.catch(1),_iterator2.e(_context4.t0);case 22:return _context4.prev=22,_iterator2.f(),_context4.finish(22);case 25:case"end":return _context4.stop()}}),_callee4,this,[[1,19,22,25]])}))),function fastPush(_x5){return _fastPush.apply(this,arguments)})},{key:"getEntry",value:function getEntry(hash){var peer=this.getNPeersClosestTo(1,hash),message={type:NetworkMessageType.GetEntry,payload:hash};return this.conductor.sendMessage(this.dna,this.agentId,peer[0],message)}},{key:"getDHTShard",value:function getDHTShard(){for(var dhtShard={},_i=0,_Object$keys=Object.keys(this.CASMeta);_i<_Object$keys.length;_i++){var _hash=_Object$keys[_i],entryMetadata=this.getEntryMetadata(_hash);dhtShard[_hash]={entry:this.CAS[_hash],metadata:entryMetadata}}return dhtShard}},{key:"getEntryMetadata",value:function getEntryMetadata(hash){var _this=this,processHeaders=function processHeaders(headerAddresses){return headerAddresses.reduce((function(acc,next){return Object.assign({},acc,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},next,_this.CAS[next]))}),{})};if(this.CASMeta[hash]){var metadata=Object.assign({},this.CASMeta[hash]);return metadata.AGENT_HEADERS&&(metadata.AGENT_HEADERS=processHeaders(metadata.AGENT_HEADERS)),metadata.HEADERS&&(metadata.HEADERS=processHeaders(metadata.HEADERS)),metadata}}},{key:"getNeighbors",value:function getNeighbors(){var _this2=this,sortedPeers=this.peers.sort((function(agentA,agentB){var distanceA=Object(processors_hash.b)(_this2.agentId,agentA),ditsanceB=Object(processors_hash.b)(_this2.agentId,agentB);return Object(processors_hash.a)(distanceA,ditsanceB)})),neighbors=sortedPeers.slice(0,4);if(sortedPeers.length>4){var half=Math.floor(this.peers.length/2);neighbors.push(sortedPeers[half])}if(sortedPeers.length>8){var prehalf=Math.floor(.35*this.peers.length);neighbors.push(sortedPeers[prehalf]);var posthalf=Math.floor(.65*this.peers.length);neighbors.push(sortedPeers[posthalf])}return neighbors}},{key:"getNPeersClosestTo",value:function getNPeersClosestTo(n,hash){return[this.agentId].concat(_toConsumableArray(this.peers)).sort((function(agentA,agentB){var distanceA=Object(processors_hash.b)(hash,agentA),distanceB=Object(processors_hash.b)(hash,agentB);return Object(processors_hash.a)(distanceA,distanceB)})).slice(0,n)}},{key:"newHeader",value:function newHeader(entryId,replacedEntryAddress){var lastHeaderAddress=this.sourceChain.length>0?this.sourceChain[this.sourceChain.length-1]:void 0;return{agent_id:this.agentId,entry_address:entryId,replaced_entry_address:replacedEntryAddress,timestamp:Math.floor(Date.now()/1e3),last_header_address:lastHeaderAddress}}},{key:"createHeader",value:(_createHeader=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(entryId,replacedEntryAddress){var header,headerId;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return header=this.newHeader(entryId,replacedEntryAddress),_context5.next=3,Object(processors_hash.c)(header);case 3:return headerId=_context5.sent,this.CAS[headerId]=header,this.sourceChain.push(headerId),_context5.abrupt("return",header);case 7:case"end":return _context5.stop()}}),_callee5,this)}))),function createHeader(_x6,_x7){return _createHeader.apply(this,arguments)})},{key:"initDHTShardForEntry",value:function initDHTShardForEntry(entryHash){this.CASMeta[entryHash]||(this.CASMeta[entryHash]={HEADERS:[],LINKS_TO:[],CRUDStatus:void 0,REPLACED_BY:void 0,REPLACES:void 0,DELETED_BY:void 0})}},{key:"updateDHTShard",value:function updateDHTShard(){var _this3=this;this.CASMeta={};var _step4,dhtOps=Object.values(this.DHTOpTransforms),_loop=function _loop(dhtOp){var header=dhtOp.header,headerHash=dhtOp.headerId;_this3.CAS[headerHash]=header;var entryHash=dhtOp.header.entry_address;switch(dhtOp.type){case dht_op.a.RegisterAgentActivity:_this3.initDHTShardForEntry(dhtOp.header.agent_id),_this3.CASMeta[dhtOp.header.agent_id].AGENT_HEADERS||(_this3.CASMeta[dhtOp.header.agent_id].AGENT_HEADERS=[]),_this3.CASMeta[dhtOp.header.agent_id].AGENT_HEADERS.push(headerHash);break;case dht_op.a.StoreEntry:_this3.CAS[entryHash]=dhtOp.entry,_this3.initDHTShardForEntry(entryHash),_this3.CASMeta[entryHash].CRUDStatus="Live",dhtOp.header.replaced_entry_address&&(_this3.CASMeta[entryHash].REPLACES=dhtOp.header.replaced_entry_address),_this3.CASMeta[entryHash].HEADERS||(_this3.CASMeta[entryHash].HEADERS=[]),_this3.CASMeta[entryHash].HEADERS.push(headerHash);break;case dht_op.a.RegisterUpdatedTo:if(_this3.initDHTShardForEntry(header.replaced_entry_address),_this3.CASMeta[header.replaced_entry_address].CRUDStatus&&"Dead"===_this3.CASMeta[header.replaced_entry_address].CRUDStatus){var replacedBy=_this3.CASMeta[header.replaced_entry_address].REPLACED_BY;_this3.CASMeta[header.replaced_entry_address].CRUDStatus="CONFLICT",replacedBy.push(entryHash),_this3.CASMeta[header.replaced_entry_address].REPLACED_BY=replacedBy}else _this3.CASMeta[header.replaced_entry_address].CRUDStatus="Dead",_this3.CASMeta[header.replaced_entry_address].REPLACED_BY=[entryHash];break;case dht_op.a.RegisterDeletedBy:var deletedEntryHash=dhtOp.entry.payload.deletedEntry;_this3.initDHTShardForEntry(deletedEntryHash),_this3.CASMeta[deletedEntryHash].CRUDStatus="Dead",_this3.CASMeta[deletedEntryHash].REPLACED_BY=void 0,_this3.CASMeta[deletedEntryHash].DELETED_BY=header.entry_address;break;case dht_op.a.RegisterAddLink:_this3.initDHTShardForEntry(dhtOp.entry.payload.base),_this3.CASMeta[dhtOp.entry.payload.base].LINKS_TO.push({target:dhtOp.entry.payload.target,tag:dhtOp.entry.payload.tag,type:dhtOp.entry.payload.type,timestamp:dhtOp.header.timestamp});break;case dht_op.a.RegisterRemoveLink:_this3.initDHTShardForEntry(dhtOp.entry.payload.base);var linkIndex=_this3.CASMeta[dhtOp.entry.payload.base].LINKS_TO.findIndex((function(link){return link.type===dhtOp.entry.payload.type&&link.target===dhtOp.entry.payload.target&&link.timestamp===dhtOp.entry.payload.timestamp}));_this3.CASMeta[dhtOp.entry.payload.base].LINKS_TO.splice(linkIndex,1)}},_iterator4=_createForOfIteratorHelper(Object(dht_op.e)(dhtOps));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){_loop(_step4.value)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}},{key:"handleNetworkMessage",value:function handleNetworkMessage(fromAgentId,message){switch(message.type){case NetworkMessageType.Publish:return this.handlePublishRequest(message.payload.dhtOpId,message.payload.dhtOp);case NetworkMessageType.GetEntry:return this.CAS[message.payload]}}},{key:"joinNetwork",value:function joinNetwork(){}},{key:"handlePublishRequest",value:function handlePublishRequest(hash,dhtOp){this.DHTOpTransforms[hash]||(this.DHTOpTransforms[hash]=dhtOp,this.updateDHTShard())}}],[{key:"from",value:function from(conductor,contents){var cell=new Cell(conductor,contents.dna,contents.agentId,contents.redundancyFactor,contents.peers);return cell.sourceChain=contents.sourceChain,cell.CAS=contents.CAS,cell.CASMeta=contents.CASMeta,cell.DHTOpTransforms=contents.DHTOpTransforms,cell}}]),Cell}();__webpack_require__(127);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function conductor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return conductor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return conductor_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function conductor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function conductor_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var conductor_Conductor=function(){function Conductor(redundancyFactor,options){var seed,_this=this;(function conductor_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Conductor),this.redundancyFactor=redundancyFactor,this.options=options,this.cells={},options&&options.agentIds)?this.agentIds=options.agentIds:(seed=options&&options.seed?options.seed:Math.random().toString().substring(2),this.readyPromise=Object(processors_hash.c)("".concat(seed,0)).then((function(h){return _this.agentIds=[h]})))}return function conductor_createClass(Constructor,protoProps,staticProps){return protoProps&&conductor_defineProperties(Constructor.prototype,protoProps),staticProps&&conductor_defineProperties(Constructor,staticProps),Constructor}(Conductor,[{key:"ready",value:function ready(){var _this2=this;return this.agentIds?new Promise((function(r){return r()})):new Promise((function(r){return _this2.readyPromise.then((function(){return r()}))}))}},{key:"toContents",value:function toContents(){for(var cellContents={},_i2=0,_Object$entries=Object.entries(this.cells);_i2<_Object$entries.length;_i2++){var _ref2=_slicedToArray(_Object$entries[_i2],2),key=_ref2[0],cell=_ref2[1];cellContents[key]=cell.toContents()}return{agentIds:this.agentIds,redundancyFactor:this.redundancyFactor,cells:cellContents}}},{key:"installDna",value:function installDna(dna,peers){var agentId=this.agentIds[0],cell=new cell_Cell(this,dna,agentId,this.redundancyFactor,peers);return this.cells[dna]=cell,cell}},{key:"initDna",value:function initDna(dna){this.cells[dna].init()}},{key:"inboundNetworkMessage",value:function inboundNetworkMessage(dna,fromAgentId,message){return this.cells[dna].handleNetworkMessage(fromAgentId,message)}}],[{key:"from",value:function from(contents){for(var conductor=new Conductor(contents.redundancyFactor,{agentIds:contents.agentIds}),_i3=0,_Object$entries2=Object.entries(contents.cells);_i3<_Object$entries2.length;_i3++){var _ref4=_slicedToArray(_Object$entries2[_i3],2),key=_ref4[0],cell=_ref4[1];conductor.cells[key]=cell_Cell.from(conductor,cell)}return conductor}}]),Conductor}();__webpack_require__(126);function message_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function message_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return message_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return message_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function message_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function hookUpConductors(conductors){var _step,sendMessage=function sendMessage(dna,fromAgentId,toAgentId,message){var conductor=conductors.find((function(c){return c.agentIds.find((function(a){return a===toAgentId}))}));if(conductor)return conductor.inboundNetworkMessage(dna,fromAgentId,message)},_iterator=message_createForOfIteratorHelper(conductors);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.sendMessage=sendMessage}}catch(err){_iterator.e(err)}finally{_iterator.f()}}__webpack_require__(111),__webpack_require__(62),__webpack_require__(75),__webpack_require__(112),__webpack_require__(249),__webpack_require__(841),__webpack_require__(843);function connect_to_conductors_toConsumableArray(arr){return function connect_to_conductors_arrayWithoutHoles(arr){if(Array.isArray(arr))return connect_to_conductors_arrayLikeToArray(arr)}(arr)||function connect_to_conductors_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||connect_to_conductors_unsupportedIterableToArray(arr)||function connect_to_conductors_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function connect_to_conductors_slicedToArray(arr,i){return function connect_to_conductors_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function connect_to_conductors_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||connect_to_conductors_unsupportedIterableToArray(arr,i)||function connect_to_conductors_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function connect_to_conductors_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=connect_to_conductors_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function connect_to_conductors_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return connect_to_conductors_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?connect_to_conductors_arrayLikeToArray(o,minLen):void 0}}function connect_to_conductors_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function connect_to_conductors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function connect_to_conductors_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){connect_to_conductors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){connect_to_conductors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var globalCAS={};function connectToConductors(_x,_x2){return _connectToConductors.apply(this,arguments)}function _connectToConductors(){return(_connectToConductors=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee3(blackboard,conductorsUrls){var initialPlayground,promises;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return initialPlayground={activeAgentId:null,activeDNA:null,activeEntryId:null,conductors:[],redundancyFactor:1,conductorsUrls:conductorsUrls},promises=conductorsUrls.map(function(){var _ref2=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee2(url){var _yield$connect,onSignal,call,contents,agentIds,conductor,_iterator,_step,content,cell,numHeldEntries,numHeldAspects,lastRefresh;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Object(lib.connect)({url:url});case 2:return _yield$connect=_context2.sent,onSignal=_yield$connect.onSignal,call=_yield$connect.call,_context2.next=7,getCellContents(call);case 7:contents=_context2.sent,agentIds=contents.map((function(c){return c.agentId})),conductor=new conductor_Conductor(void 0,{agentIds:agentIds}),_iterator=connect_to_conductors_createForOfIteratorHelper(contents);try{for(_iterator.s();!(_step=_iterator.n()).done;)content=_step.value,cell=cell_Cell.from(conductor,content),conductor.cells[cell.dna]=cell,cell.updateDHTShard()}catch(err){_iterator.e(err)}finally{_iterator.f()}return numHeldEntries=0,numHeldAspects=0,lastRefresh=0,onSignal(function(){var _ref3=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee(params){var instance_id,newHeldEntries,newHeldAspects,stateDump,cellContent,conductorIndex,conductor,cell;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(instance_id=Object.keys(params.instance_stats)[0],newHeldEntries=params.instance_stats[instance_id].number_held_entries,newHeldAspects=params.instance_stats[instance_id].number_held_aspects,!(newHeldEntries==numHeldEntries||newHeldAspects==numHeldAspects||Date.now()-lastRefresh<5e3)){_context.next=5;break}return _context.abrupt("return");case 5:return lastRefresh=Date.now(),numHeldAspects=newHeldAspects,numHeldEntries=newHeldEntries,_context.next=10,call("debug/state_dump")({instance_id:instance_id,source_chain:!0,held_aspects:!0,queued_holding_workflows:!1});case 10:return stateDump=_context.sent,_context.next=13,processStateDump(call,instance_id,stateDump);case 13:cellContent=_context.sent,conductorIndex=initialPlayground.conductors.findIndex((function(c){return c.agentIds.includes(cellContent.agentId)})),conductor=initialPlayground.conductors[conductorIndex],cell=cell_Cell.from(conductor,cellContent),conductor.cells[cell.dna]=cell,cell.updateDHTShard(),blackboard.update("conductors",initialPlayground.conductors);case 20:case"end":return _context.stop()}}),_callee)})));return function(_x16){return _ref3.apply(this,arguments)}}()),_context2.abrupt("return",conductor);case 17:case"end":return _context2.stop()}}),_callee2)})));return function(_x15){return _ref2.apply(this,arguments)}}()),_context3.next=4,Promise.all(promises);case 4:initialPlayground.conductors=_context3.sent,initialPlayground.activeDNA=Object.keys(initialPlayground.conductors[0].cells)[0],hookUpConductors(initialPlayground.conductors),blackboard.updateState(initialPlayground),console.log(initialPlayground.conductors);case 9:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function getCellContents(_x3){return _getCellContents.apply(this,arguments)}function _getCellContents(){return(_getCellContents=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee4(call){var instancesIds,promises;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,call("debug/running_instances")({});case 2:return instancesIds=_context4.sent,promises=instancesIds.map((function(id){return getCellContent(call,id)})),_context4.abrupt("return",Promise.all(promises));case 5:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}function fetchCas(_x4,_x5,_x6){return _fetchCas.apply(this,arguments)}function _fetchCas(){return(_fetchCas=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee5(call,instance_id,address){var casResult;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!globalCAS[address]){_context5.next=2;break}return _context5.abrupt("return",globalCAS[address]);case 2:return _context5.next=4,call("debug/fetch_cas")({instance_id:instance_id,address:address});case 4:return casResult=_context5.sent,globalCAS[address]=casResult,_context5.abrupt("return",casResult);case 7:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}function getCellContent(_x7,_x8){return _getCellContent.apply(this,arguments)}function _getCellContent(){return(_getCellContent=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee6(call,instance_id){var stateDump,cellContent;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,call("debug/state_dump")({instance_id:instance_id,source_chain:!0,held_aspects:!0,queued_holding_workflows:!1});case 2:return stateDump=_context6.sent,console.log(stateDump),_context6.next=6,processStateDump(call,instance_id,stateDump);case 6:return cellContent=_context6.sent,_context6.abrupt("return",cellContent);case 8:case"end":return _context6.stop()}}),_callee6)})))).apply(this,arguments)}function getDnaHeader(_x9,_x10,_x11){return _getDnaHeader.apply(this,arguments)}function _getDnaHeader(){return(_getDnaHeader=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee7(call,instanceId,dnaHeaderAddress){var header;return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,fetchCas(call,instanceId,dnaHeaderAddress);case 2:return header=_context7.sent,_context7.abrupt("return",JSON.parse(header.content));case 4:case"end":return _context7.stop()}}),_callee7)})))).apply(this,arguments)}function processStateDump(_x12,_x13,_x14){return _processStateDump.apply(this,arguments)}function _processStateDump(){return(_processStateDump=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee10(call,instanceId,stateDump){var _ref10,CAS,agentIdHeader,dnaHeader,dna,agentId,promises,aspects,dhtPromises,dhtOps,DHTOpTransforms,_iterator2,_step2,dhtOp,dhtOpId,sourceChain;return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return CAS={},agentIdHeader=stateDump.source_chain[0][0].header,_context10.next=4,getDnaHeader(call,instanceId,agentIdHeader.link);case 4:return dnaHeader=_context10.sent,dna=dnaHeader.entry_address,agentId=agentIdHeader.entry_address,stateDump.source_chain.unshift([{entry:null,header:dnaHeader},agentIdHeader.link]),promises=stateDump.source_chain.map(function(){var _ref5=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee8(_ref4){var _ref6,headerWithEntry,headerAddress,header,casResult;return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _ref6=connect_to_conductors_slicedToArray(_ref4,2),headerWithEntry=_ref6[0],headerAddress=_ref6[1],header=headerWithEntry.header,CAS[headerAddress]=processHeader(header),_context8.next=5,fetchCas(call,instanceId,header.entry_address);case 5:casResult=_context8.sent,CAS[header.entry_address]=processEntry(dna,agentId,casResult);case 7:case"end":return _context8.stop()}}),_callee8)})));return function(_x17){return _ref5.apply(this,arguments)}}()),aspects=Object.keys(stateDump.held_aspects),dhtPromises=aspects.map(function(){var _ref7=connect_to_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee9(aspect){var op,headerAspect,header,entry,ops;return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,fetchCas(call,instanceId,aspect);case 2:if("UNKNOWN"===(op=_context9.sent).type){_context9.next=5;break}return _context9.abrupt("return",[]);case 5:return headerAspect=JSON.parse(op.content),header=processHeader(headerAspect),_context9.next=9,fetchCas(call,instanceId,header.entry_address);case 9:return entry=_context9.sent,ops=Object(dht_op.b)(processEntry(dna,agentId,entry),header),_context9.abrupt("return",ops);case 12:case"end":return _context9.stop()}}),_callee9)})));return function(_x18){return _ref7.apply(this,arguments)}}()),_context10.next=13,Promise.all(dhtPromises);case 13:dhtOps=_context10.sent,DHTOpTransforms={},_iterator2=connect_to_conductors_createForOfIteratorHelper((_ref10=[]).concat.apply(_ref10,connect_to_conductors_toConsumableArray(dhtOps))),_context10.prev=16,_iterator2.s();case 18:if((_step2=_iterator2.n()).done){_context10.next=26;break}return dhtOp=_step2.value,_context10.next=22,Object(dht_op.c)(dhtOp);case 22:dhtOpId=_context10.sent,DHTOpTransforms[dhtOpId]=dhtOp;case 24:_context10.next=18;break;case 26:_context10.next=31;break;case 28:_context10.prev=28,_context10.t0=_context10.catch(16),_iterator2.e(_context10.t0);case 31:return _context10.prev=31,_iterator2.f(),_context10.finish(31);case 34:return sourceChain=stateDump.source_chain.map((function(_ref8){var _ref9=connect_to_conductors_slicedToArray(_ref8,2);_ref9[0];return _ref9[1]})),_context10.next=37,Promise.all(promises);case 37:return _context10.abrupt("return",{CAS:CAS,dna:dna,agentId:agentId,peers:[],redundancyFactor:0,sourceChain:sourceChain,CASMeta:{},DHTOpTransforms:DHTOpTransforms});case 38:case"end":return _context10.stop()}}),_callee10,null,[[16,28,31,34]])})))).apply(this,arguments)}function processHeader(header){return{agent_id:header.provenances[0][0],entry_address:header.entry_address,last_header_address:header.link,timestamp:Math.floor(new Date(header.timestamp).getTime()/1e3),replaced_entry_address:header.link_update_delete}}function processEntry(dna,agent_id,entry){switch(entry.type){case"%dna":return{type:types_entry.a.DNA,payload:dna};case"%agent_id":return{type:types_entry.a.AgentId,payload:agent_id};case"%cap_token_grant":return{type:types_entry.a.CapTokenGrant,payload:JSON.parse(entry.content).CapTokenGrant};case"%link_add":return{type:types_entry.a.LinkAdd,payload:(link=entry.content,parsed=link.split(")"),typeTag=parsed[0].trim().split("#"),baseTarget=parsed[1].split("=>"),{base:baseTarget[0].trim(),target:baseTarget[1].trim(),type:typeTag[0].substring(1),tag:typeTag[1]})};default:return{type:types_entry.a.CreateEntry,payload:{type:entry.type,content:JSON.parse(entry.content)}}}var link,parsed,typeTag,baseTarget}var mwc_snackbar=__webpack_require__(408);__webpack_require__(853);function serializePlayground(state){if(!state)return"";var conductorContents=state.conductors.map((function(c){return c.toContents()})),preState=Object.assign({},state,{conductors:conductorContents});return JSON.stringify(preState)}function deserializePlayground(stateString){if(""===stateString)return null;var preState=JSON.parse(stateString),conductors=preState.conductors.map((function(c){return conductor_Conductor.from(c)}));return hookUpConductors(conductors),Object.assign({},preState,{conductors:conductors})}__webpack_require__(92);function create_conductors_toConsumableArray(arr){return function create_conductors_arrayWithoutHoles(arr){if(Array.isArray(arr))return create_conductors_arrayLikeToArray(arr)}(arr)||function create_conductors_iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function create_conductors_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return create_conductors_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return create_conductors_arrayLikeToArray(o,minLen)}(arr)||function create_conductors_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function create_conductors_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function create_conductors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function create_conductors_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){create_conductors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){create_conductors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function createConductors(_x,_x2,_x3,_x4){return _createConductors.apply(this,arguments)}function _createConductors(){return(_createConductors=create_conductors_asyncToGenerator(regeneratorRuntime.mark((function _callee(conductorsToCreate,currentConductors,redundancyFactor,dna){var newConductors,i,conductor,allConductors,peers,_loop,_i,_newConductors,_conductor,_i2,_newConductors2;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:newConductors=[],i=0;case 2:if(!(i<conductorsToCreate)){_context.next=10;break}return conductor=new conductor_Conductor(redundancyFactor),_context.next=6,conductor.ready();case 6:newConductors.push(conductor);case 7:i++,_context.next=2;break;case 10:for(hookUpConductors(allConductors=[].concat(create_conductors_toConsumableArray(currentConductors),newConductors)),peers=allConductors.map((function(c){return c.agentIds[0]})),_loop=function _loop(_conductor){_conductor.installDna(dna,peers.filter((function(p){return p!==_conductor.agentIds[0]})))},_i=0,_newConductors=newConductors;_i<_newConductors.length;_i++)_conductor=_newConductors[_i],_loop(_conductor);for(_i2=0,_newConductors2=newConductors;_i2<_newConductors2.length;_i2++)_newConductors2[_i2].initDna(dna);return _context.abrupt("return",allConductors);case 17:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function build_simulated_playground_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function build_simulated_playground_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){build_simulated_playground_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){build_simulated_playground_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function buildSimulatedPlayground(_x,_x2){return _buildSimulatedPlayground.apply(this,arguments)}function _buildSimulatedPlayground(){return(_buildSimulatedPlayground=build_simulated_playground_asyncToGenerator(regeneratorRuntime.mark((function _callee(dna,numConductors){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return 3,_context.abrupt("return",createConductors(numConductors,[],3,dna));case 2:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function holochain_playground_container_typeof(obj){return(holochain_playground_container_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _templateObject5(){var data=_taggedTemplateLiteral(["\n      :host {\n        display: contents;\n      }\n    "]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=_taggedTemplateLiteral([" <mwc-circular-progress></mwc-circular-progress>"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=_taggedTemplateLiteral([" <slot></slot> "]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(['\n      <mwc-snackbar id="snackbar" labelText=','>\n        <mwc-icon-button icon="close" slot="dismiss"></mwc-icon-button>\n      </mwc-snackbar>\n    ']);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function holochain_playground_container_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function holochain_playground_container_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){holochain_playground_container_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){holochain_playground_container_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function holochain_playground_container_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function holochain_playground_container_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function holochain_playground_container_get(target,property,receiver){return(holochain_playground_container_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function holochain_playground_container_superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=holochain_playground_container_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function holochain_playground_container_setPrototypeOf(o,p){return(holochain_playground_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function holochain_playground_container_createSuper(Derived){var hasNativeReflectConstruct=function holochain_playground_container_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=holochain_playground_container_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=holochain_playground_container_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return holochain_playground_container_possibleConstructorReturn(this,result)}}function holochain_playground_container_possibleConstructorReturn(self,call){return!call||"object"!==holochain_playground_container_typeof(call)&&"function"!=typeof call?function holochain_playground_container_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function holochain_playground_container_getPrototypeOf(o){return(holochain_playground_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var holochain_playground_container_PlaygroundContainer=function(_blackboardContainer){!function holochain_playground_container_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&holochain_playground_container_setPrototypeOf(subClass,superClass)}(PlaygroundContainer,_blackboardContainer);var _firstUpdated,_super=holochain_playground_container_createSuper(PlaygroundContainer);function PlaygroundContainer(){var _this;return holochain_playground_container_classCallCheck(this,PlaygroundContainer),(_this=_super.apply(this,arguments)).numberOfSimulatedConductors=10,_this.redundancyFactor=3,_this}return function holochain_playground_container_createClass(Constructor,protoProps,staticProps){return protoProps&&holochain_playground_container_defineProperties(Constructor.prototype,protoProps),staticProps&&holochain_playground_container_defineProperties(Constructor,staticProps),Constructor}(PlaygroundContainer,[{key:"buildBlackboard",value:function buildBlackboard(){var initialPlayground={activeAgentId:void 0,activeDNA:void 0,activeEntryId:void 0,conductors:[],conductorsUrls:this.conductorsUrls,redundancyFactor:this.redundancyFactor};return new blackboard_Blackboard(initialPlayground,{persistId:"holochain-playground",serializer:serializePlayground,deserializer:deserializePlayground})}},{key:"firstUpdated",value:(_firstUpdated=holochain_playground_container_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var dnaHash,_this2=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.conductorsUrls){_context2.next=9;break}return _context2.next=3,Object(processors_hash.c)("dna1");case 3:return dnaHash=_context2.sent,_context2.next=6,buildSimulatedPlayground(dnaHash,this.numberOfSimulatedConductors);case 6:this.initialConductors=_context2.sent,this.blackboard.update("activeDNA",dnaHash),this.blackboard.update("conductors",this.initialConductors);case 9:this.blackboard.select("conductorsUrls").subscribe(function(){var _ref=holochain_playground_container_asyncToGenerator(regeneratorRuntime.mark((function _callee(urls){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(void 0===urls){_context.next=10;break}return _context.prev=1,_context.next=4,connectToConductors(_this2.blackboard,urls);case 4:_context.next=10;break;case 6:_context.prev=6,_context.t0=_context.catch(1),console.error(_context.t0),_this2.showError("Error when connecting with the nodes");case 10:case"end":return _context.stop()}}),_callee,null,[[1,6]])})));return function(_x){return _ref.apply(this,arguments)}}());case 10:case"end":return _context2.stop()}}),_callee2,this)}))),function firstUpdated(){return _firstUpdated.apply(this,arguments)})},{key:"updated",value:function updated(changedValues){holochain_playground_container_get(holochain_playground_container_getPrototypeOf(PlaygroundContainer.prototype),"updated",this).call(this,changedValues),changedValues.has("conductorsUrls")&&this.blackboard.update("conductorsUrls",this.conductorsUrls),changedValues.has("redundancyFactor")&&this.blackboard.update("redundancyFactor",this.redundancyFactor)}},{key:"showError",value:function showError(error){this.message=error,this.snackbar.show()}},{key:"renderSnackbar",value:function renderSnackbar(){return Object(lit_element.f)(_templateObject(),this.message)}},{key:"render",value:function render(){return Object(lit_element.f)(_templateObject2(),this.renderSnackbar(),this.blackboard.state?Object(lit_element.f)(_templateObject3()):Object(lit_element.f)(_templateObject4()))}}],[{key:"styles",get:function get(){return Object(lit_element.c)(_templateObject5())}}]),PlaygroundContainer}(function blackboardContainer(blackboardId,baseElement){return function(_baseElement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BlackboardContainer,_baseElement);var _super=_createSuper(BlackboardContainer);function BlackboardContainer(){return _classCallCheck(this,BlackboardContainer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BlackboardContainer,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;_get(_getPrototypeOf(BlackboardContainer.prototype),"connectedCallback",this).call(this),this.blackboard=this.buildBlackboard(),this.addEventListener("connect-to-blackboard",(function(e){e.detail.blackboardId==blackboardId&&(e.stopPropagation(),e.blackboard=_this.blackboard)}))}},{key:"state",get:function get(){return this.blackboard.state}}]),BlackboardContainer}(baseElement)}("holochain-playground",lit_element.a));Object(tslib_es6_654e2c24.a)([Object(lit_element.h)({type:Array}),Object(tslib_es6_654e2c24.b)("design:type",Array)],holochain_playground_container_PlaygroundContainer.prototype,"initialConductors",void 0),Object(tslib_es6_654e2c24.a)([Object(lit_element.h)({type:Number}),Object(tslib_es6_654e2c24.b)("design:type",Number)],holochain_playground_container_PlaygroundContainer.prototype,"numberOfSimulatedConductors",void 0),Object(tslib_es6_654e2c24.a)([Object(lit_element.h)({type:Array}),Object(tslib_es6_654e2c24.b)("design:type",Array)],holochain_playground_container_PlaygroundContainer.prototype,"conductorsUrls",void 0),Object(tslib_es6_654e2c24.a)([Object(lit_element.h)({type:Number}),Object(tslib_es6_654e2c24.b)("design:type",Number)],holochain_playground_container_PlaygroundContainer.prototype,"redundancyFactor",void 0),Object(tslib_es6_654e2c24.a)([Object(lit_element.i)("#snackbar"),Object(tslib_es6_654e2c24.b)("design:type",mwc_snackbar.a)],holochain_playground_container_PlaygroundContainer.prototype,"snackbar",void 0),Object(tslib_es6_654e2c24.a)([Object(lit_element.h)({type:String}),Object(tslib_es6_654e2c24.b)("design:type",String)],holochain_playground_container_PlaygroundContainer.prototype,"message",void 0),customElements.define("holochain-playground-container",holochain_playground_container_PlaygroundContainer)},403:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(66),__webpack_require__(39),__webpack_require__(27),__webpack_require__(17),__webpack_require__(62),__webpack_require__(14),__webpack_require__(15),__webpack_require__(29),__webpack_require__(149),__webpack_require__(61),__webpack_require__(36),__webpack_require__(68),__webpack_require__(130),__webpack_require__(121),__webpack_require__(150),__webpack_require__(5),__webpack_require__(47),__webpack_require__(151),__webpack_require__(182),__webpack_require__(23),__webpack_require__(19),__webpack_require__(69),__webpack_require__(24),__webpack_require__(56);var blackboard_connect=__webpack_require__(195),tslib_es6_654e2c24=__webpack_require__(35),lit_element=__webpack_require__(0),mwc_dialog=__webpack_require__(407),sharedStyles=__webpack_require__(196),hash=(__webpack_require__(41),__webpack_require__(7),__webpack_require__(48),__webpack_require__(49),__webpack_require__(6));__webpack_require__(8),__webpack_require__(32),__webpack_require__(92),__webpack_require__(126),__webpack_require__(187),__webpack_require__(111),__webpack_require__(128),__webpack_require__(258),__webpack_require__(127),__webpack_require__(46),__webpack_require__(104),__webpack_require__(112);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function dnaNodes(cells){var _ref,images=["smartphone","desktop","laptop"],sortedCells=cells.sort((function(a,b){return Object(hash.a)(Object(hash.d)(a.agentId),Object(hash.d)(b.agentId))})),cellNodes=sortedCells.map((function(cell){return{data:{id:cell.agentId,label:"".concat(cell.agentId.substr(0,6),"...")},classes:[images[Math.floor(3*Math.random())]]}})),edges=sortedCells.map((function(cell){return cell.getNeighbors().map((function(neighbor){return{data:{id:"".concat(cell.agentId,"->").concat(neighbor),source:cell.agentId,target:neighbor}}}))}));return[].concat(_toConsumableArray(cellNodes),_toConsumableArray((_ref=[]).concat.apply(_ref,_toConsumableArray(edges))))}var cytoscape_cjs=__webpack_require__(406),cytoscape_cjs_default=__webpack_require__.n(cytoscape_cjs),selectors=(__webpack_require__(25),__webpack_require__(82));__webpack_require__(852),__webpack_require__(854);function holochain_playground_dht_graph_typeof(obj){return(holochain_playground_dht_graph_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _templateObject3(){var data=_taggedTemplateLiteral(["\n        :host {\n          display: flex;\n        }\n      "]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(["",'\n      <div class="column fill" style="position: relative">\n        <h3 style="position: absolute; left: 28px; top: 28px;" class="title">\n          DHT Nodes\n        </h3>\n        <div id="graph" style="height: 98%"></div>\n\n        <mwc-icon-button\n          style="position: absolute; right: 20px; top: 20px;"\n          icon="help_outline"\n          @click=',"\n        ></mwc-icon-button>\n      </div>"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(['\n      <mwc-dialog id="dht-help" heading="DHT Help">\n        <span>\n          This is a visual interactive representation of a holochain\n          <a\n            href="https://developer.holochain.org/docs/concepts/4_public_data_on_the_dht/"\n            target="_blank"\n            >DHT</a\n          >, with ',' nodes.\n          <br />\n          <br />\n          In the DHT, all nodes have a <strong>public and private key</strong>.\n          The public key is visible and shared througout the network, but\n          private keys never leave their nodes. This public key is of 256 bits\n          an it\'s actually the node\'s ID, which you can see labeled besides the\n          nodes (encoded in base58 strings).\n          <br />\n          <br />\n          If you pay attention, you will see that\n          <strong>all nodes in the DHT are ordered alphabetically</strong>. This\n          is because the nodes organize themselves in neighborhoods: they are\n          more connected with the nodes that are closest to their ID, and less\n          connected with the nodes that are far.\n        </span>\n        <mwc-button slot="primaryAction" dialogAction="cancel">\n          Got it!\n        </mwc-button>\n      </mwc-dialog>\n    ']);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function holochain_playground_dht_graph_createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function holochain_playground_dht_graph_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return holochain_playground_dht_graph_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return holochain_playground_dht_graph_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function holochain_playground_dht_graph_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==holochain_playground_dht_graph_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var holochain_playground_dht_graph_DHTGraph=function(_blackboardConnect){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DHTGraph,_blackboardConnect);var _firstUpdated,_super=_createSuper(DHTGraph);function DHTGraph(){var _this;return _classCallCheck(this,DHTGraph),(_this=_super.apply(this,arguments)).lastNodes=[],_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DHTGraph,[{key:"firstUpdated",value:(_firstUpdated=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var nodes,_this2=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:nodes=dnaNodes(Object(selectors.b)(this.blackboard.state)),this.cy=cytoscape_cjs_default()({container:this.shadowRoot.getElementById("graph"),boxSelectionEnabled:!1,elements:nodes,autoungrabify:!0,userPanningEnabled:!1,userZoomingEnabled:!1,layout:{name:"circle"},style:'\n            node {\n              background-color: gray;\n              label: data(label);\n              font-size: 20px;\n              width: 50px;\n              height: 50px;\n            }\n\n            \n             .desktop{\n                background-image: url("assets/desktop_windows-outline-white-36dp.svg");\n              }\n            \n             .laptop{\n                background-image: url("assets/laptop-outline-white-36dp.svg");\n             }\n            \n\n            .selected {\n              border-width: 4px;\n              border-color: black;\n              border-style: solid;\n            }\n\n            .smartphone{\n              background-image: url("assets/smartphone-outline-white-36dp.svg");\n            }\n    \n            .highlighted {\n              background-color: yellow;\n            }\n    \n            edge {\n              width: 1;\n              line-style: dotted;\n            }\n          '}),this.cy.on("tap","node",(function(evt){_this2.blackboard.update("activeAgentId",evt.target.id()),_this2.blackboard.update("activeEntryId",null)}));case 3:case"end":return _context.stop()}}),_callee,this)}))),function firstUpdated(){return _firstUpdated.apply(this,arguments)})},{key:"highlightNodesWithEntry",value:function highlightNodesWithEntry(entryId){var _this3=this;Object(selectors.b)(this.blackboard.state).forEach((function(cell){return _this3.cy.getElementById(cell.agentId).removeClass("highlighted")}));var _step,_iterator=holochain_playground_dht_graph_createForOfIteratorHelper(Object(selectors.d)(this.blackboard.state)(entryId));try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;this.cy.getElementById(cell.agentId).addClass("highlighted")}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"updated",value:function updated(changedValues){var _this4=this;if(_get(_getPrototypeOf(DHTGraph.prototype),"updated",this).call(this,changedValues),this.shadowRoot.getElementById("graph")){var newAgentIds=Object(selectors.b)(this.blackboard.state).map((function(c){return c.agentId}));(function vectorsEqual(v1,v2){if(v1.length!==v2.length)return!1;v1=v1.sort(),v2=v2.sort();for(var i=0;i<v1.length;i++)if(v1[i]!==v2[i])return!1;return!0})(this.lastNodes,newAgentIds)||(this.layout&&this.layout.stop(),this.cy.remove("nodes"),this.cy.add(dnaNodes(Object(selectors.b)(this.blackboard.state))),this.layout=this.cy.elements().makeLayout({name:"circle"}),this.layout.run(),this.lastNodes=newAgentIds),Object(selectors.b)(this.blackboard.state).forEach((function(cell){return _this4.cy.getElementById(cell.agentId).removeClass("selected")})),this.cy.getElementById(this.blackboard.state.activeAgentId).addClass("selected"),this.highlightNodesWithEntry(this.blackboard.state.activeEntryId)}}},{key:"renderDHTHelp",value:function renderDHTHelp(){return Object(lit_element.f)(_templateObject(),this.blackboard.state.conductors.length)}},{key:"render",value:function render(){var _this5=this;return Object(lit_element.f)(_templateObject2(),this.renderDHTHelp(),(function(){return _this5.dhtHelp.open=!0}))}}],[{key:"styles",get:function get(){return[sharedStyles.a,Object(lit_element.c)(_templateObject3())]}}]),DHTGraph}(Object(blackboard_connect.a)("holochain-playground",lit_element.a));Object(tslib_es6_654e2c24.a)([Object(lit_element.i)("#dht-help"),Object(tslib_es6_654e2c24.b)("design:type",mwc_dialog.a)],holochain_playground_dht_graph_DHTGraph.prototype,"dhtHelp",void 0),customElements.define("holochain-playground-dht-graph",holochain_playground_dht_graph_DHTGraph)},404:function(module){module.exports=JSON.parse('{"version":"experimental","tags":[{"name":"holochain-playground-conductor-detail","path":"./dist/elements/holochain-playground-conductor-detail.js","properties":[{"name":"selectedTabIndex","type":"number","default":"0"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-connect-to-nodes","path":"./dist/elements/holochain-playground-connect-to-nodes.js","properties":[{"name":"conductorUrls","type":"string[]","default":"[\\"ws://localhost:8888\\"]"},{"name":"open","type":"boolean","default":"false"},{"name":"urlsState","type":"object","default":"{}"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-container","path":"./dist/elements/holochain-playground-container.js","properties":[{"name":"blackboard","type":"Blackboard<S>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}]},{"name":"holochain-playground-create-entries","path":"./dist/elements/holochain-playground-create-entries.js","properties":[{"name":"selectedEntryType","type":"number","default":"0"},{"name":"entryToCreate","default":"\\"undefined\\""},{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"entry-committed"}]},{"name":"holochain-playground-dht-graph","path":"./dist/elements/holochain-playground-dht-graph.js","properties":[{"name":"lastNodes","type":"never[]","default":"[]"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-dht-shard","path":"./dist/elements/holochain-playground-dht-shard.js","properties":[{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-dht-stats","path":"./dist/elements/holochain-playground-dht-stats.js","properties":[{"name":"processing","type":"boolean","default":"false"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-entry-detail","path":"./dist/elements/holochain-playground-entry-detail.js","properties":[{"name":"withMetadata","type":"boolean","default":"false"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-entry-graph","path":"./dist/elements/holochain-playground-entry-graph.js","properties":[{"name":"showAgentsIds","type":"boolean","default":"true"},{"name":"lastEntriesIds","type":"never[]","default":"[]"},{"name":"ready","type":"boolean","default":"false"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-import-export","path":"./dist/elements/holochain-playground-import-export.js","properties":[{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-select-dna","path":"./dist/elements/holochain-playground-select-dna.js","properties":[{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-source-chain","path":"./dist/elements/holochain-playground-source-chain.js","properties":[{"name":"nodes","type":"never[]","default":"[]"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-container","path":"./pages/dist/playground-app.js","properties":[{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}]},{"name":"holochain-playground-select-dna","path":"./pages/dist/playground-app.js","properties":[{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-connect-to-nodes","path":"./pages/dist/playground-app.js","properties":[{"name":"conductorUrls","type":"string[]","default":"[\\"ws://localhost:8888\\"]"},{"name":"open","type":"boolean","default":"false"},{"name":"urlsState","type":"object","default":"{}"},{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-entry-graph","path":"./pages/dist/playground-app.js","properties":[{"name":"showAgentsIds","type":"boolean","default":"true"},{"name":"lastEntriesIds","type":"never[]","default":"[]"},{"name":"ready","type":"boolean","default":"false"},{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-dht-stats","path":"./pages/dist/playground-app.js","properties":[{"name":"processing","type":"boolean","default":"false"},{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"json-object-node","path":"./pages/dist/playground-app.js","attributes":[{"name":"data"},{"name":"collapsed"}],"properties":[{"name":"data","attribute":"data"},{"name":"collapsed","attribute":"collapsed"}]},{"name":"json-nested-object-node","path":"./pages/dist/playground-app.js","attributes":[{"name":"data"},{"name":"collapsed"},{"name":"key"}],"properties":[{"name":"data","attribute":"data"},{"name":"collapsed","attribute":"collapsed"},{"name":"key","attribute":"key"}]},{"name":"json-viewer","path":"./pages/dist/playground-app.js","attributes":[{"name":"data"}],"properties":[{"name":"data","attribute":"data"}]},{"name":"holochain-playground-create-entries","path":"./pages/dist/playground-app.js","properties":[{"name":"selectedEntryType","type":"number","default":"0"},{"name":"entryToCreate","default":"\\"undefined\\""},{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}],"events":[{"name":"entry-committed"},{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-entry-detail","path":"./pages/dist/playground-app.js","properties":[{"name":"withMetadata","type":"boolean","default":"false"},{"name":"state"},{"name":"hasUpdated","type":"number"},{"name":"updateComplete","type":"Promise<any>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"designer-mode","path":"./pages/dist/playground-app.js","properties":[{"name":"state"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"technical-mode","path":"./pages/dist/playground-app.js","properties":[{"name":"state"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"playground-app","path":"./pages/dist/playground-app.js"},{"name":"designer-mode","path":"./pages/src/designer-mode.js","properties":[{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"playground-app","path":"./pages/src/playground-app.js","attributes":[{"name":"technicalMode","type":"boolean"}],"properties":[{"name":"technicalMode","attribute":"technicalMode","type":"boolean"},{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"technical-mode","path":"./pages/src/technical-mode.js","properties":[{"name":"blackboard","type":"Blackboard<S>"}]},{"name":"holochain-playground-conductor-detail","path":"./src/elements/holochain-playground-conductor-detail.ts","attributes":[{"name":"selectedTabIndex","type":"number","default":"0"}],"properties":[{"name":"selectedTabIndex","attribute":"selectedTabIndex","type":"number","default":"0"},{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-connect-to-nodes","path":"./src/elements/holochain-playground-connect-to-nodes.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-container","path":"./src/elements/holochain-playground-container.ts","attributes":[{"name":"initialPlayground","type":"Playground"},{"name":"message","type":"string | undefined"}],"properties":[{"name":"initialPlayground","attribute":"initialPlayground","type":"Playground"},{"name":"snackbar","type":"Snackbar"},{"name":"message","attribute":"message","type":"string | undefined"},{"name":"state","type":"S"},{"name":"blackboard","type":"Blackboard<S>"},{"name":"floatingLabelFoundation","type":"MDCFloatingLabelFoundation | undefined"},{"name":"lineRippleFoundation","type":"MDCLineRippleFoundation | undefined"}]},{"name":"holochain-playground-create-entries","path":"./src/elements/holochain-playground-create-entries.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"entry-committed"},{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-dht-graph","path":"./src/elements/holochain-playground-dht-graph.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-dht-shard","path":"./src/elements/holochain-playground-dht-shard.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-dht-stats","path":"./src/elements/holochain-playground-dht-stats.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-entry-detail","path":"./src/elements/holochain-playground-entry-detail.ts","attributes":[{"name":"withMetadata","type":"boolean","default":"false"}],"properties":[{"name":"withMetadata","attribute":"withMetadata","type":"boolean","default":"false"},{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-entry-graph","path":"./src/elements/holochain-playground-entry-graph.ts","properties":[{"name":"showAgentsIds","type":"boolean","default":"true"},{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-import-export","path":"./src/elements/holochain-playground-import-export.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-select-dna","path":"./src/elements/holochain-playground-select-dna.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]},{"name":"holochain-playground-source-chain","path":"./src/elements/holochain-playground-source-chain.ts","properties":[{"name":"blackboard","type":"Blackboard<S>"}],"events":[{"name":"connect-to-blackboard"}]}]}')},412:function(module,exports,__webpack_require__){__webpack_require__(413),__webpack_require__(562),__webpack_require__(563),__webpack_require__(748),__webpack_require__(751),__webpack_require__(754),__webpack_require__(756),__webpack_require__(768),module.exports=__webpack_require__(776)},479:function(module,exports){},563:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(155)},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return compareBigInts})),__webpack_require__.d(__webpack_exports__,"b",(function(){return distance})),__webpack_require__.d(__webpack_exports__,"c",(function(){return hash})),__webpack_require__.d(__webpack_exports__,"d",(function(){return location}));__webpack_require__(66),__webpack_require__(378),__webpack_require__(14),__webpack_require__(15),__webpack_require__(5),__webpack_require__(47),__webpack_require__(23),__webpack_require__(69),__webpack_require__(56);var multihashing_async__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(41),multihashing_async__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(multihashing_async__WEBPACK_IMPORTED_MODULE_9__),buffer__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7),cids__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(48),cids__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(cids__WEBPACK_IMPORTED_MODULE_11__),bitwise__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(50),_holochain_hcid_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(49);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function hash(_x){return _hash.apply(this,arguments)}function _hash(){return(_hash=_asyncToGenerator(regeneratorRuntime.mark((function _callee(content){var contentString,buffer,encoded,cid;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return contentString="string"==typeof content?content:JSON.stringify(content),buffer=buffer__WEBPACK_IMPORTED_MODULE_10__.Buffer.from(contentString,"utf-8"),_context.next=4,multihashing_async__WEBPACK_IMPORTED_MODULE_9___default()(buffer,"sha2-256");case 4:return encoded=_context.sent,cid=new cids__WEBPACK_IMPORTED_MODULE_11___default.a(0,"dag-pb",encoded),_context.abrupt("return",cid.toString());case 7:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var hashLocation={};function location(hash){if(hashLocation[hash])return hashLocation[hash];for(var hexes=function arrayToHexes(array){for(var hexes=[],sliceSize=array.length/8,_loop=function _loop(i){var subarray=array.subarray(i*sliceSize,(i+1)*sliceSize),hex=[];subarray.forEach((function(i){var h=i.toString(16);h.length%2&&(h="0"+h),hex.push(h)})),hexes.push("0x"+hex.join(""))},i=0;i<8;i++)_loop(i);return hexes}(function hashBytes(hash){try{return multihashing_async__WEBPACK_IMPORTED_MODULE_9___default.a.multihash.fromB58String(hash).slice(2)}catch(e){return window.enc.decode(hash)}}(hash)),xor=buffer__WEBPACK_IMPORTED_MODULE_10__.Buffer.from(hexes[0].slice(2),"hex"),i=1;i<hexes.length;i++)xor=bitwise__WEBPACK_IMPORTED_MODULE_12__.a.buffer.xor(xor,buffer__WEBPACK_IMPORTED_MODULE_10__.Buffer.from(hexes[i].slice(2),"hex"));var location=xor.readUIntBE(0,xor.length);return hashLocation[hash]=location,location}new _holochain_hcid_js__WEBPACK_IMPORTED_MODULE_13__.a("hcs0").then((function(enc){return window.enc=enc}));var limit=Math.pow(2,32)-1;function distance(hash1,hash2){var location1=location(hash1),location2=location(hash2);return location2>=location1?location2-location1:limit-location1+location2+1}function compareBigInts(a,b){return a>b?1:a<b?-1:0}},776:function(module,exports,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(92),__webpack_require__(66),__webpack_require__(61),__webpack_require__(36),__webpack_require__(130),__webpack_require__(777),__webpack_require__(46),__webpack_require__(69);var _clientApi=__webpack_require__(74),_clientLogger=__webpack_require__(52),_configFilename=__webpack_require__(778);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},778:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_web_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(155),_custom_elements_json__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(154),__webpack_require__(404));Object(_storybook_web_components__WEBPACK_IMPORTED_MODULE_0__.setCustomElements)(_custom_elements_json__WEBPACK_IMPORTED_MODULE_2__),Object(_storybook_web_components__WEBPACK_IMPORTED_MODULE_0__.addParameters)({a11y:{config:{},options:{checks:{"color-contrast":{options:{noScroll:!0}}},restoreScroll:!0}}});var req=__webpack_require__(779);Object(_storybook_web_components__WEBPACK_IMPORTED_MODULE_0__.configure)(req,module)}.call(this,__webpack_require__(260)(module))},779:function(module,exports,__webpack_require__){var map={"./dht-graph.stories.js":780,"./dht-shard.stories.js":855};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=779},780:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple}));__webpack_require__(14),__webpack_require__(61),__webpack_require__(68),__webpack_require__(401),__webpack_require__(403);var _storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),lit_element__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),storybook_addon_web_components_knobs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(154);function _templateObject(){var data=function _taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(['\n    <holochain-playground-container>\n      <holochain-playground-dht-graph\n        style="height: 100vh"\n      ></holochain-playground-dht-graph>\n    </holochain-playground-container>\n  ']);return _templateObject=function _templateObject(){return data},data}__webpack_exports__.default={title:"DHT Graph",component:"holochain-playground-dht-graph",decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_5__.withKnobs,storybook_addon_web_components_knobs__WEBPACK_IMPORTED_MODULE_7__.a],parameters:{storySource:{source:"import '../dist/elements/holochain-playground-container.js';\nimport '../dist/elements/holochain-playground-dht-graph.js';\n\nimport {\n  array,\n  boolean,\n  button,\n  color,\n  date,\n  select,\n  withKnobs,\n  text,\n  number,\n} from '@storybook/addon-knobs';\nimport { html } from 'lit-element';\nimport { withWebComponentsKnobs } from 'storybook-addon-web-components-knobs';\n\nexport default {\n  title: 'DHT Graph',\n  component: 'holochain-playground-dht-graph',\n\n  decorators: [withKnobs, withWebComponentsKnobs],\n  parameters: { options: { selectedPanel: 'storybookjs/knobs/panel' } },\n};\n\nexport const Simple = () => {\n  return html`\n    <holochain-playground-container>\n      <holochain-playground-dht-graph\n        style=\"height: 100vh\"\n      ></holochain-playground-dht-graph>\n    </holochain-playground-container>\n  `;\n};\n",locationsMap:{simple:{startLoc:{col:22,line:26},endLoc:{col:1,line:34},startBody:{col:22,line:26},endBody:{col:1,line:34}}}},options:{selectedPanel:"storybookjs/knobs/panel"}}};var Simple=function Simple(){return Object(lit_element__WEBPACK_IMPORTED_MODULE_6__.f)(_templateObject())}},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EntryType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return hashEntry}));__webpack_require__(5),__webpack_require__(47),__webpack_require__(56),__webpack_require__(41),__webpack_require__(7),__webpack_require__(48),__webpack_require__(49);var EntryType,_processors_hash_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function hashEntry(_x){return _hashEntry.apply(this,arguments)}function _hashEntry(){return(_hashEntry=_asyncToGenerator(regeneratorRuntime.mark((function _callee(entry){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(entry.type!==EntryType.AgentId){_context.next=2;break}return _context.abrupt("return",entry.payload);case 2:return _context.abrupt("return",Object(_processors_hash_js__WEBPACK_IMPORTED_MODULE_7__.c)(entry));case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}!function(EntryType){EntryType.DNA="DNA",EntryType.AgentId="AgentId",EntryType.CreateEntry="CreateEntry",EntryType.RemoveEntry="RemoveEntry",EntryType.LinkAdd="LinkAdd",EntryType.LinkRemove="LinkRemove",EntryType.CapTokenGrant="CapTokenGrant",EntryType.CapTokenClaim="CapTokenClaim"}(EntryType||(EntryType={}))},82:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return selectActiveCell})),__webpack_require__.d(__webpack_exports__,"b",(function(){return selectActiveCells})),__webpack_require__.d(__webpack_exports__,"c",(function(){return selectCell})),__webpack_require__.d(__webpack_exports__,"d",(function(){return selectHoldingCells}));__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(92),__webpack_require__(126),__webpack_require__(39),__webpack_require__(111),__webpack_require__(27),__webpack_require__(17),__webpack_require__(62),__webpack_require__(14),__webpack_require__(128),__webpack_require__(15),__webpack_require__(29),__webpack_require__(46),__webpack_require__(5),__webpack_require__(104),__webpack_require__(23),__webpack_require__(112),__webpack_require__(19),__webpack_require__(24),__webpack_require__(41),__webpack_require__(7),__webpack_require__(48),__webpack_require__(49),__webpack_require__(6),__webpack_require__(8);var _types_dht_op_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(25);var selectActiveCells=function selectActiveCells(state){return state.conductors.map((function(c){return c.cells[state.activeDNA]})).filter((function(c){return!!c}))},selectHoldingCells=function selectHoldingCells(state){return function(entryId){return selectActiveCells(state).filter((function(c){return!!Object.values(c.DHTOpTransforms).find((function(dhtOp){return dhtOp.type===_types_dht_op_js__WEBPACK_IMPORTED_MODULE_27__.a.StoreEntry&&dhtOp.header.entry_address===entryId}))}))}},selectActiveCell=function selectActiveCell(state){var conductor=function selectActiveConductor(state){return state.activeAgentId?state.conductors.find((function(conductor){return conductor.agentIds.find((function(agentId){return agentId===state.activeAgentId}))})):void 0}(state);if(conductor)return Object.values(conductor.cells).find((function(cell){return cell.agentId===state.activeAgentId&&cell.dna==state.activeDNA}))},selectCell=function selectCell(state){return function(dna,agentId){var conductor=state.conductors.find((function(c){return c.agentIds.includes(agentId)}));return conductor?conductor.cells[dna]:null}}},855:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return dht_shard_stories_Simple}));__webpack_require__(14),__webpack_require__(61),__webpack_require__(68),__webpack_require__(401),__webpack_require__(10),__webpack_require__(16),__webpack_require__(18),__webpack_require__(17),__webpack_require__(15),__webpack_require__(149),__webpack_require__(36),__webpack_require__(121),__webpack_require__(150),__webpack_require__(5),__webpack_require__(151),__webpack_require__(23),__webpack_require__(19),__webpack_require__(24);var blackboard_connect=__webpack_require__(195),tslib_es6_654e2c24=__webpack_require__(35),lit_element=__webpack_require__(0),sharedStyles=(__webpack_require__(851),__webpack_require__(196)),selectors=(__webpack_require__(41),__webpack_require__(7),__webpack_require__(48),__webpack_require__(49),__webpack_require__(6),__webpack_require__(8),__webpack_require__(25),__webpack_require__(82));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _templateObject3(){var data=_taggedTemplateLiteral(['\n              <span class="placeholder">\n                Select a cell to see its DHT Shard\n              </span>\n            ']);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(['\n              <span>\n                <strong>\n                  Entries with associated metadata, and agent ids with all their\n                  headers\n                </strong>\n              </span>\n              <json-viewer id="dht-shard" style="margin-top: 16px;">\n                ',"\n              </json-viewer>\n            "]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(['\n      <div class="column">\n        ',"\n      </div>\n    "]);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var holochain_playground_dht_shard_DHTShard=function(_blackboardConnect){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DHTShard,_blackboardConnect);var _super=_createSuper(DHTShard);function DHTShard(){var _this;return _classCallCheck(this,DHTShard),(_this=_super.apply(this,arguments)).cell=void 0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DHTShard,[{key:"getCell",value:function getCell(){return this.cell?Object(selectors.c)(this.blackboard.state)(this.cell.dna,this.cell.agentId):Object(selectors.a)(this.blackboard.state)}},{key:"render",value:function render(){return Object(lit_element.f)(_templateObject(),this.getCell()?Object(lit_element.f)(_templateObject2(),JSON.stringify(this.getCell().getDHTShard())):Object(lit_element.f)(_templateObject3()))}}],[{key:"style",value:function style(){return sharedStyles.a}}]),DHTShard}(Object(blackboard_connect.a)("holochain-playground",lit_element.a));Object(tslib_es6_654e2c24.a)([Object(lit_element.h)({type:Object}),Object(tslib_es6_654e2c24.b)("design:type",Object)],holochain_playground_dht_shard_DHTShard.prototype,"cell",void 0),customElements.define("holochain-playground-dht-shard",holochain_playground_dht_shard_DHTShard);__webpack_require__(403);var dist=__webpack_require__(54),storybook_addon_web_components_knobs=__webpack_require__(154);function dht_shard_stories_templateObject(){var data=function dht_shard_stories_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(['\n    <holochain-playground-container>\n      <div style="display: flex; flex-direction: row; height: 100vh;">\n        <holochain-playground-dht-graph style="flex: 1;"></holochain-playground-dht-graph>\n        <holochain-playground-dht-shard style="flex: 1;"></holochain-playground-dht-shard>\n      </div>  \n    </holochain-playground-container>\n  ']);return dht_shard_stories_templateObject=function _templateObject(){return data},data}__webpack_exports__.default={title:"DHT Shard",component:"holochain-playground-dht-graph",decorators:[dist.withKnobs,storybook_addon_web_components_knobs.a],parameters:{storySource:{source:"import '../dist/elements/holochain-playground-container.js';\nimport '../dist/elements/holochain-playground-dht-shard.js';\nimport '../dist/elements/holochain-playground-dht-graph.js';\n\nimport {\n  array,\n  boolean,\n  button,\n  color,\n  date,\n  select,\n  withKnobs,\n  text,\n  number,\n} from '@storybook/addon-knobs';\nimport { html } from 'lit-element';\nimport { withWebComponentsKnobs } from 'storybook-addon-web-components-knobs';\n\nexport default {\n  title: 'DHT Shard',\n  component: 'holochain-playground-dht-graph',\n\n  decorators: [withKnobs, withWebComponentsKnobs],\n  parameters: { options: { selectedPanel: 'storybookjs/knobs/panel' } },\n};\n\nexport const Simple = () => {\n  return html`\n    <holochain-playground-container>\n      <div style=\"display: flex; flex-direction: row; height: 100vh;\">\n        <holochain-playground-dht-graph style=\"flex: 1;\"></holochain-playground-dht-graph>\n        <holochain-playground-dht-shard style=\"flex: 1;\"></holochain-playground-dht-shard>\n      </div>  \n    </holochain-playground-container>\n  `;\n};\n",locationsMap:{simple:{startLoc:{col:22,line:27},endLoc:{col:1,line:36},startBody:{col:22,line:27},endBody:{col:1,line:36}}}},options:{selectedPanel:"storybookjs/knobs/panel"}}};var dht_shard_stories_Simple=function Simple(){return Object(lit_element.f)(dht_shard_stories_templateObject())}}},[[412,1,2]]]);
//# sourceMappingURL=main.30848b4cbabb4bc3b721.bundle.js.map