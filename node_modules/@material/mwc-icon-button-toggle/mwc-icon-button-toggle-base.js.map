{"version":3,"file":"mwc-icon-button-toggle-base.js","sourceRoot":"","sources":["mwc-icon-button-toggle-base.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {ariaProperty} from '@material/mwc-base/aria-property';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {html, LitElement, TemplateResult} from 'lit';\nimport {eventOptions, property, query, queryAsync, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/** @soyCompatible */\nexport class IconButtonToggleBase extends LitElement {\n  @query('.mdc-icon-button') protected mdcRoot!: HTMLElement;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-label'})\n  ariaLabel!: string;\n\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: String}) onIcon = '';\n\n  @property({type: String}) offIcon = '';\n\n  // `aria-label` of the button when `on` is true.\n  @property({type: String}) ariaLabelOn!: string;\n\n  // `aria-label` of the button when `on` is false.\n  @property({type: String}) ariaLabelOff!: string;\n\n  @property({type: Boolean, reflect: true}) on = false;\n\n  @queryAsync('mwc-ripple') ripple!: Promise<Ripple|null>;\n\n  @state() protected shouldRenderRipple = false;\n\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    return this.ripple;\n  });\n\n  protected handleClick() {\n    this.on = !this.on;\n    this.dispatchEvent(new CustomEvent(\n        'icon-button-toggle-change', {detail: {isOn: this.on}, bubbles: true}));\n  }\n\n  override click() {\n    this.mdcRoot.focus();\n    this.mdcRoot.click();\n  }\n\n  override focus() {\n    this.rippleHandlers.startFocus();\n    this.mdcRoot.focus();\n  }\n\n  override blur() {\n    this.rippleHandlers.endFocus();\n    this.mdcRoot.blur();\n  }\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return this.shouldRenderRipple ? html`\n            <mwc-ripple\n                .disabled=\"${this.disabled}\"\n                unbounded>\n            </mwc-ripple>` :\n                                     '';\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    /** @classMap */\n    const classes = {\n      'mdc-icon-button--on': this.on,\n    };\n    const hasToggledAriaLabel =\n        this.ariaLabelOn !== undefined && this.ariaLabelOff !== undefined;\n    const ariaPressedValue = hasToggledAriaLabel ? undefined : this.on;\n    const ariaLabelValue = hasToggledAriaLabel ?\n        (this.on ? this.ariaLabelOn : this.ariaLabelOff) :\n        this.ariaLabel;\n    return html`<button\n          class=\"mdc-icon-button mdc-icon-button--display-flex ${\n        classMap(classes)}\"\n          aria-pressed=\"${ifDefined(ariaPressedValue)}\"\n          aria-label=\"${ifDefined(ariaLabelValue)}\"\n          @click=\"${this.handleClick}\"\n          ?disabled=\"${this.disabled}\"\n          @focus=\"${this.handleRippleFocus}\"\n          @blur=\"${this.handleRippleBlur}\"\n          @mousedown=\"${this.handleRippleMouseDown}\"\n          @mouseenter=\"${this.handleRippleMouseEnter}\"\n          @mouseleave=\"${this.handleRippleMouseLeave}\"\n          @touchstart=\"${this.handleRippleTouchStart}\"\n          @touchend=\"${this.handleRippleDeactivate}\"\n          @touchcancel=\"${this.handleRippleDeactivate}\"\n        >${this.renderRipple()}\n        <span class=\"mdc-icon-button__icon\"\n          ><slot name=\"offIcon\"\n            ><i class=\"material-icons\">${this.offIcon}</i\n          ></slot\n        ></span>\n        <span class=\"mdc-icon-button__icon mdc-icon-button__icon--on\"\n          ><slot name=\"onIcon\"\n            ><i class=\"material-icons\">${this.onIcon}</i\n          ></slot\n        ></span>\n      </button>`;\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleMouseDown(event?: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleTouchStart(event?: Event) {\n    this.rippleHandlers.startPress(event);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n}\n"]}