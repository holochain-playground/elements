!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("lit-element")):"function"==typeof define&&define.amd?define(["exports","tslib","lit-element"],t):t((e=e||self)["lit-context"]={},e.tslib,e.litElement)}(this,(function(e,t,n){"use strict";class o{constructor(e){this.value=e,this.subscriptions=new Set}getValue(){return this.value}setValue(e){var t;const n=this.value;this.value=e,null===(t=this.subscriptions)||void 0===t||t.forEach(t=>t(e,n))}}class l extends n.LitElement{constructor(){super(),this.value={},this.context=new o(this.value)}render(){return this.context.setValue(this.value),n.html`
      <slot></slot>
    `}}t.__decorate([n.property({type:o})],l.prototype,"context",void 0),t.__decorate([n.property({type:Object})],l.prototype,"value",void 0);const s=(e,t,n)=>{let o=null,l=t;do{var s,i,c,u;let t,n=l.assignedSlot instanceof HTMLSlotElement;var r,d,a,v;o=null===(s=l)||void 0===s?void 0:s.closest(e),n&&null===o&&(o=(null===(r=l)||void 0===r||null===(d=r.assignedSlot)||void 0===d?void 0:d.closest(e))||null,null===o&&(t=(null===(a=l)||void 0===a||null===(v=a.parentElement)||void 0===v?void 0:v.assignedSlot)instanceof HTMLSlotElement));let m=null===(i=l)||void 0===i?void 0:i.getRootNode();var p,f;n&&null===m&&(m=(null===(p=l)||void 0===p||null===(f=p.assignedSlot)||void 0===f?void 0:f.getRootNode())||null),l=t?null===(c=l)||void 0===c?void 0:c.parentElement:null===(u=m)||void 0===u?void 0:u.host}while(!o&&l);if(o){const e=function(e,t){const{subscriptions:n}=e;return null==n||n.add(t),t(null==e?void 0:e.getValue()),()=>{null==n||n.delete(t)}}(o.context,(o,l)=>{t.isConnected?n instanceof Function?n.call(t,o,l):Object.assign(t,o):e()})}},i=(e,t)=>n=>"function"==typeof n?c(n,e,t):u(n,e,t),c=(e,t,n)=>class extends e{connectedCallback(){super.connectedCallback(),((e,n)=>{s(t,this,n)})(0,n)}},u=(e,t,n)=>{const{kind:o,elements:l}=e;return{kind:o,elements:l,finisher(e){e.prototype.__litContextConnectedCallback=e.prototype.connectedCallback,e.prototype.connectedCallback=function(){this.__litContextConnectedCallback(),((e,n)=>{s(t,this,n)})(0,n)}}}};e.Context=o,e.ContextProvider=l,e.consume=i,e.contextConsumer=s,e.createContext=(e,t={})=>{const n=e+"-provider";return customElements.get(n)||customElements.define(n,class extends l{constructor(){super(...arguments),this.value=t}}),{getTagName:()=>n,consumer:(e,t)=>s(n,e,t),consume:e=>i(n,e)}}}));
//# sourceMappingURL=lit-context.umd.production.min.js.map
