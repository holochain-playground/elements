import{d as e,c as t}from"./storybook-prebuilt-2d1aa0cd.js";import{d as n}from"./storybook-prebuilt-a5e4d474.js";var r=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}};function i(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}var s=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Channel=void 0;var i=a(r),s=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      channel.addPeerListener is deprecated\n    "]);return o=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){return Math.random().toString(16).slice(2)},v=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.transport,a=n.async,c=void 0!==a&&a;u(this,e),this.isAsync=void 0,this.sender=l(),this.events={},this.data={},this.transport=void 0,this.addPeerListener=(0,i.default)((function(e,n){t.addListener(e,n)}),(0,s.default)(o())),this.isAsync=c,r&&(this.transport=r,this.transport.setHandler((function(e){return t.handleEvent(e)})))}var t,n,r;return t=e,(n=[{key:"addListener",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s={type:e,args:r,from:this.sender},a={};r.length>=1&&r[0]&&r[0].options&&(a=r[0].options);var o=function(){t.transport&&t.transport.send(s,a),t.handleEvent(s)};this.isAsync?setImmediate(o):o()}},{key:"last",value:function(e){return this.data[e]}},{key:"eventNames",value:function(){return Object.keys(this.events)}},{key:"listenerCount",value:function(e){var t=this.listeners(e);return t?t.length:0}},{key:"listeners",value:function(e){var t=this.events[e];return t||void 0}},{key:"once",value:function(e,t){var n=this.onceListener(e,t);this.addListener(e,n)}},{key:"removeAllListeners",value:function(e){e?this.events[e]&&delete this.events[e]:this.events={}}},{key:"removeListener",value:function(e,t){var n=this.listeners(e);n&&(this.events[e]=n.filter((function(e){return e!==t})))}},{key:"on",value:function(e,t){this.addListener(e,t)}},{key:"off",value:function(e,t){this.removeListener(e,t)}},{key:"handleEvent",value:function(e){var t=this.listeners(e.type);t&&t.length&&t.forEach((function(t){t.apply(e,e.args)})),this.data[e.type]=e.args}},{key:"onceListener",value:function(e,t){var n=this,r=function r(){return n.removeListener(e,r),t.apply(void 0,arguments)};return r}},{key:"hasTransport",get:function(){return!!this.transport}}])&&c(t.prototype,n),r&&c(t,r),e}();t.Channel=v;var f=v;t.default=f}));export{r as b,s as d};
//# sourceMappingURL=storybook-prebuilt-f248e87a.js.map
